<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ íŠœë¸Œ ì„¬ë„¤ì¼ í†µí•© ìƒì„±ê¸° (3-in-1)</title>
    <!-- í°íŠ¸ ë¡œë“œ: í”„ë¦¬í…ë‹¤ë“œ -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        /* --- ê¸°ë³¸ UI ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #1a1a1a;
            color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        h1 { margin-bottom: 20px; color: #fff; }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            width: 100%;
            max-width: 1200px;
        }

        /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .controls {
            flex: 1;
            min-width: 300px;
            background: #2a2a2a;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .control-group { margin-bottom: 20px; }
        .control-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #ccc; font-size: 0.9em; }
        
        input[type="text"], input[type="file"], select, input[type="color"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #444;
            background: #333;
            color: white;
            border-radius: 6px;
            box-sizing: border-box;
            font-family: inherit;
        }

        /* ë ˆì´ì•„ì›ƒ ì„ íƒ ë²„íŠ¼ ê·¸ë£¹ */
        .layout-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .layout-btn {
            flex: 1;
            padding: 10px;
            border: 1px solid #555;
            background: #333;
            color: #aaa;
            cursor: pointer;
            border-radius: 6px;
            font-weight: bold;
            transition: all 0.2s;
        }
        .layout-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        button#download-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000;
            border: none;
            padding: 15px;
            width: 100%;
            font-size: 1.1em;
            font-weight: 800;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.1s;
        }
        button#download-btn:active { transform: scale(0.98); }

        /* --- í”„ë¦¬ë·° ì˜ì—­ (í•µì‹¬) --- */
        .preview-wrapper {
            flex: 2;
            min-width: 320px;
            max-width: 800px; /* 16:9 ê¸°ì¤€ ë„ˆë¹„ ì œí•œ */
        }

        .thumbnail-canvas {
            width: 100%;
            aspect-ratio: 16 / 9;
            background: #000;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            user-select: none;
        }

        /* ê³µí†µ ìš”ì†Œ */
        .bg-image {
            position: absolute;
            object-fit: cover;
            transition: all 0.5s ease;
        }
        
        .overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            transition: all 0.5s ease;
        }

        .text-container {
            position: absolute;
            z-index: 10;
            transition: all 0.5s ease;
            width: 100%; height: 100%;
            top: 0; left: 0;
        }

        /* í…ìŠ¤íŠ¸ ìš”ì†Œ ê³µí†µ */
        .txt-badge { display: inline-block; font-weight: 700; transition: all 0.3s; }
        .txt-main { font-weight: 900; line-height: 1.1; margin: 10px 0; transition: all 0.3s; white-space: pre-wrap; }
        .txt-sub { font-weight: 500; transition: all 0.3s; }
        .highlight { color: var(--highlight-color, #FFD700); }

        /* =========================================
           ë ˆì´ì•„ì›ƒë³„ ìŠ¤íƒ€ì¼ ì •ì˜
           ========================================= */

        /* --- TYPE A: ë¶„í• í˜• (ì™¼ìª½ í…ìŠ¤íŠ¸, ì˜¤ë¥¸ìª½ ì´ë¯¸ì§€) --- */
        .layout-a .bg-image {
            width: 60%;
            height: 100%;
            right: 0;
            top: 0;
            /* í´ë¦½íŒ¨ìŠ¤ë¡œ ì‚¬ì„  ë¶„í•  ëŠë‚Œ ì£¼ê¸° (ì„ íƒì‚¬í•­) */
            clip-path: polygon(10% 0, 100% 0, 100% 100%, 0% 100%);
        }
        .layout-a .overlay {
            /* ì™¼ìª½ ë°°ê²½ìƒ‰ ì˜ì—­ */
            background: var(--bg-color, #111);
            width: 45%; /* ì´ë¯¸ì§€ë‘ ì•½ê°„ ê²¹ì¹˜ê²Œ */
            z-index: 1;
        }
        .layout-a .text-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding-left: 5%;
            width: 45%; /* í…ìŠ¤íŠ¸ ì˜ì—­ ì œí•œ */
        }
        .layout-a .txt-badge {
            background: var(--highlight-color, #FFD700);
            color: #000;
            padding: 5px 10px;
            font-size: clamp(14px, 1.5vw, 18px);
            margin-bottom: 10px;
        }
        .layout-a .txt-main {
            font-size: clamp(30px, 4vw, 50px);
            color: #fff;
            text-align: left;
        }
        .layout-a .txt-sub {
            font-size: clamp(14px, 1.5vw, 20px);
            color: #ccc;
            margin-top: 10px;
        }

        /* --- TYPE B: ì‹œë„¤ë§ˆí‹± (ì „ì²´ ì´ë¯¸ì§€, ì¤‘ì•™ ì •ë ¬, ê¸€ë¡œìš°) --- */
        .layout-b .bg-image {
            width: 100%; height: 100%; left: 0; top: 0;
            clip-path: none;
        }
        .layout-b .overlay {
            width: 100%;
            background: radial-gradient(circle, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.8) 100%);
        }
        .layout-b .text-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }
        .layout-b .txt-badge {
            border: 1px solid rgba(255,255,255,0.5);
            color: #ddd;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: clamp(12px, 1.2vw, 16px);
            background: rgba(0,0,0,0.3);
            margin-bottom: 15px;
        }
        .layout-b .txt-main {
            font-size: clamp(40px, 5vw, 70px);
            color: #fff;
            text-shadow: 0 0 20px var(--highlight-color, rgba(255, 215, 0, 0.5));
        }
        .layout-b .txt-sub {
            font-size: clamp(16px, 1.8vw, 24px);
            color: #ccc;
            margin-top: 5px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* --- TYPE C: ê°•ì¡°í˜• (ì‚¬ì„  í…ìŠ¤íŠ¸, ìŠ¤íŠ¸ë¡œí¬, í•˜ë‹¨ ë°”) --- */
        .layout-c .bg-image {
            width: 100%; height: 100%; left: 0; top: 0;
            filter: blur(2px); /* ë°°ê²½ ì‚´ì§ íë¦¼ */
            transform: scale(1.05); /* ë¸”ëŸ¬ì‹œ ì™¸ê³½ ì˜ë¦¼ ë°©ì§€ */
        }
        .layout-c .overlay {
            width: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.6));
        }
        .layout-c .text-container {
            display: block;
        }
        /* Cíƒ€ì…: ë±ƒì§€ëŠ” ìš°ì¸¡ ìƒë‹¨ */
        .layout-c .txt-badge {
            position: absolute;
            top: 20px; right: 20px;
            background: #d32f2f;
            color: white;
            padding: 8px 15px;
            font-size: clamp(16px, 2vw, 24px);
            box-shadow: 3px 3px 0 rgba(0,0,0,0.5);
            transform: rotate(5deg);
        }
        /* Cíƒ€ì…: ë©”ì¸ì€ ì¤‘ì•™ ì‚¬ì„  */
        .layout-c .txt-main {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-5deg);
            font-size: clamp(50px, 6vw, 90px);
            color: var(--highlight-color, #FFD700);
            width: 90%;
            text-align: center;
            /* ê°•ë ¥í•œ ì™¸ê³½ì„  */
            text-shadow: 
                3px 3px 0 #000, -3px 3px 0 #000, 
                3px -3px 0 #000, -3px -3px 0 #000,
                5px 5px 0 #000;
        }
        /* Cíƒ€ì…: ì„œë¸ŒëŠ” í•˜ë‹¨ ë°” */
        .layout-c .txt-sub {
            position: absolute;
            bottom: 0; width: 100%;
            background: rgba(0,0,0,0.85);
            padding: 15px 20px;
            margin: 0;
            text-align: left;
            box-sizing: border-box;
            color: #fff;
            border-top: 3px solid var(--highlight-color, #FFD700);
            font-size: clamp(16px, 2vw, 22px);
        }

    </style>
</head>
<body>

    <h1>ğŸ¬ íŒ€ í”„ë¡œì íŠ¸ ì„¬ë„¤ì¼ ë©”ì´ì»¤</h1>

    <div class="container">
        <!-- ì„¤ì • íŒ¨ë„ -->
        <div class="controls">
            <div class="control-group">
                <label>1. ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ ì„ íƒ</label>
                <div class="layout-selector">
                    <button class="layout-btn active" onclick="changeLayout('layout-a')">A. ë¶„í• í˜•</button>
                    <button class="layout-btn" onclick="changeLayout('layout-b')">B. ì˜í™”í˜•</button>
                    <button class="layout-btn" onclick="changeLayout('layout-c')">C. ê°•ì¡°í˜•</button>
                </div>
            </div>

            <div class="control-group">
                <label>2. ë°°ê²½ ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
                <input type="file" id="img-input" accept="image/*">
            </div>

            <div class="control-group">
                <label id="lbl-badge">3. ë±ƒì§€/ìƒë‹¨ í…ìŠ¤íŠ¸ (ì˜ˆ: ì œì‘ ê¸°ê°„)</label>
                <input type="text" id="in-badge" value="3ê°œì›” ì œì‘">
            </div>

            <div class="control-group">
                <label id="lbl-main">4. ë©”ì¸ íƒ€ì´í‹€</label>
                <input type="text" id="in-main" value="ë¶€ì¬ : ìƒì–´ë²„ë¦° ì½”ë“œë¥¼ ì°¾ì•„ì„œ">
            </div>

            <div class="control-group">
                <label id="lbl-sub">5. ì„œë¸Œ í…ìŠ¤íŠ¸ (ì˜ˆ: íŒ€ëª…)</label>
                <input type="text" id="in-sub" value="Unity 3D íŒ€ í”„ë¡œì íŠ¸">
            </div>

            <div class="control-group" style="display: flex; gap: 10px;">
                <div style="flex:1">
                    <label>í¬ì¸íŠ¸ ìƒ‰ìƒ</label>
                    <input type="color" id="in-color" value="#FFD700">
                </div>
                <div style="flex:1">
                    <label>ë°°ê²½ ìƒ‰ìƒ (Aíƒ€ì…ìš©)</label>
                    <input type="color" id="in-bg-color" value="#111111">
                </div>
            </div>

            <button id="download-btn">ğŸ’¾ ì´ë¯¸ì§€ ì €ì¥í•˜ê¸°</button>
        </div>

        <!-- ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ -->
        <div class="preview-wrapper">
            <!-- ìº¡ì³ ëŒ€ìƒ ì˜ì—­ -->
            <div id="capture-area" class="thumbnail-canvas layout-a">
                <img src="https://picsum.photos/1280/720?grayscale" class="bg-image" id="preview-img">
                <div class="overlay"></div>
                
                <div class="text-container">
                    <div class="txt-badge" id="out-badge">3ê°œì›” ì œì‘</div>
                    <div class="txt-main" id="out-main">ë¶€ì¬ : ìƒì–´ë²„ë¦° ì½”ë“œë¥¼ ì°¾ì•„ì„œ</div>
                    <div class="txt-sub" id="out-sub">Unity 3D íŒ€ í”„ë¡œì íŠ¸</div>
                </div>
            </div>
            <p style="text-align: center; color: #666; margin-top: 10px; font-size: 0.9em;">
                * ì´ë¯¸ì§€ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.
            </p>
        </div>
    </div>

    <!-- html2canvas ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <script>
        // DOM ìš”ì†Œ ì°¸ì¡°
        const canvasEl = document.getElementById('capture-area');
        const imgInput = document.getElementById('img-input');
        const previewImg = document.getElementById('preview-img');
        
        // ì…ë ¥ í•„ë“œ ì°¸ì¡°
        const inBadge = document.getElementById('in-badge');
        const inMain = document.getElementById('in-main');
        const inSub = document.getElementById('in-sub');
        const inColor = document.getElementById('in-color');
        const inBgColor = document.getElementById('in-bg-color');

        // ì¶œë ¥ í…ìŠ¤íŠ¸ ì°¸ì¡°
        const outBadge = document.getElementById('out-badge');
        const outMain = document.getElementById('out-main');
        const outSub = document.getElementById('out-sub');

        // ë¼ë²¨ ì°¸ì¡° (ê°€ì´ë“œìš©)
        const lblBadge = document.getElementById('lbl-badge');
        const lblMain = document.getElementById('lbl-main');
        const lblSub = document.getElementById('lbl-sub');

        // 1. í…ìŠ¤íŠ¸ ë° ìƒ‰ìƒ ì‹¤ì‹œê°„ ë°˜ì˜
        function updateText() {
            outBadge.innerText = inBadge.value;
            outMain.innerText = inMain.value;
            outSub.innerText = inSub.value;
            
            // CSS ë³€ìˆ˜ë¡œ ìƒ‰ìƒ ì œì–´
            canvasEl.style.setProperty('--highlight-color', inColor.value);
            canvasEl.style.setProperty('--bg-color', inBgColor.value);
        }

        [inBadge, inMain, inSub, inColor, inBgColor].forEach(el => {
            el.addEventListener('input', updateText);
        });

        // 2. ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
        imgInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    previewImg.src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        // 3. ë ˆì´ì•„ì›ƒ ë³€ê²½ ë¡œì§
        function changeLayout(type) {
            // ëª¨ë“  í´ë˜ìŠ¤ ì œê±° í›„ ì„ íƒí•œ í´ë˜ìŠ¤ ì¶”ê°€
            canvasEl.classList.remove('layout-a', 'layout-b', 'layout-c');
            canvasEl.classList.add(type);

            // ë²„íŠ¼ í™œì„±í™” ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.layout-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // ì…ë ¥ì°½ ë¼ë²¨ ì—…ë°ì´íŠ¸ (UX ê°œì„ )
            if (type === 'layout-a') {
                lblBadge.innerText = "3. ê°•ì¡° ë¬¸êµ¬ (ì™¼ìª½ ìƒë‹¨ ë°•ìŠ¤)";
                lblMain.innerText = "4. ë©”ì¸ ì œëª© (ì™¼ìª½ ì¤‘ì•™)";
                lblSub.innerText = "5. ì„œë¸Œ ì œëª© (ì™¼ìª½ í•˜ë‹¨)";
            } else if (type === 'layout-b') {
                lblBadge.innerText = "3. ìƒë‹¨ ì‘ì€ ë¬¸êµ¬ (Team ë“±)";
                lblMain.innerText = "4. ë©”ì¸ ì œëª© (ì¤‘ì•™ ë¹›ë‚˜ëŠ” íš¨ê³¼)";
                lblSub.innerText = "5. í•˜ë‹¨ ì„¤ëª… (ì˜ë¬¸ ë“±)";
            } else if (type === 'layout-c') {
                lblBadge.innerText = "3. ìš°ì¸¡ ìƒë‹¨ ë±ƒì§€ (ê²½ê³ /ê°•ì¡°)";
                lblMain.innerText = "4. ë©”ì¸ ì¹´í”¼ (ì¤‘ì•™ ì‚¬ì„  í° ê¸€ì”¨)";
                lblSub.innerText = "5. í•˜ë‹¨ ë  ë‚´ìš© (í”„ë¡œì íŠ¸ëª…)";
            }
        }

        // 4. ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        document.getElementById('download-btn').addEventListener('click', () => {
            const btn = document.getElementById('download-btn');
            const originalText = btn.innerText;
            btn.innerText = "ìƒì„± ì¤‘...";
            
            html2canvas(canvasEl, {
                scale: 2, // ê³ í•´ìƒë„
                useCORS: true,
                backgroundColor: null // íˆ¬ëª…ë„ ì´ìŠˆ ë°©ì§€
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `thumbnail_${Date.now()}.png`;
                link.href = canvas.toDataURL("image/png");
                link.click();
                btn.innerText = originalText;
            }).catch(err => {
                alert("ì´ë¯¸ì§€ ìƒì„± ì˜¤ë¥˜: " + err);
                btn.innerText = originalText;
            });
        });

        // ì´ˆê¸° ì‹¤í–‰
        updateText();

    </script>
</body>
</html>